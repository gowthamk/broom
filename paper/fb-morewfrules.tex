\textbf{Class Well-formedness}  \; \fbox
  {\(B \; \mathtt{ok}\)}\\
%
\begin{minipage}{\textwidth}
\begin{smathpar}
\begin{array}{c}
\renewcommand*{\arraystretch}{1.2}
\RULE
  {
    \rhoenv = \{\rho,\rhobar\} \spc
    \aenv = [\bar{\tyvar} \mapsto \bar{\fgjN}] \spc
    \phicx = \phi \spc
    \A = (\subtypcx)\spc
%   \A = (\{\rho,\rhobar\},[\bar{\tyvar} \mapsto \bar{\fgjN}],\phi)\spc
    \tywf{\rhoenv}{\phi} \spc
    \fgjtywf{\aenv}{\bar{\fgjN}} \spc
    \okin{\bar{d}}{B}
    \\
    \tywf{\A}{\fbN,\bar{\tau^f}} \spc
    \shape(\fbN) \neq \RgnZ\inang{T}\spc
%   \tywf{\A}{\bar{\tau^f}} \spc
    \isvalid{\phicx}{\allocRgn(\bar{\tau^f}) \outlives \rho} \spc
%   \ctype(\fbN) = \bar{\tau^{\fbN}} \spc
%    k = B(\bar{\tau^{\fbN}}\;\xbar,\bar{\tau^f}\;\bar{y})
%        \{\superZ(\xbar);\,\thisZ.\bar{f} = \bar{y};\} \spc
    \allocRgn(\fbN) = \rho \spc
  }
  {
    \C{class}\; B\angAlpha\inang{\rho\rhobar \,|\, \phi} \extends \fbN
    \{\bar{\tau^f}\;\bar{f};\, \bar{d}\} \;{\texttt{ok}}
  }
\end{array}
\end{smathpar}
\end{minipage}
%
