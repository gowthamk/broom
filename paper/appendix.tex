%\section{Operational Semantics}
%
%Fig.~\ref{fig:fb-opsem} contains a definition of the operational semantics for \fbname.
%
\section{\fbname}

% \subsection{Full Syntax}
% \input{fb-syntax-full}

% The full syntax of \FB, including expressions that manifest only at
% runtime, is shown in Fig.~\ref{fig:fb-syntax-full}. Such expressions
% include:
% \begin{itemize}

% \item Memory locations ($\loc$) corresponding to the memory regions,

% \item A special expression $\RgnZT{\toploc\loc}(e)$ that evaluates to
% a region handler object (the syntax of this expression is captured by
% the $\C{new}\;\fbN(\overline{e})$ construct). $\toploc$ is the
% location of the special $\toprgn$ region where region handlers are
% stored. $\loc$ is the location of the corresponding transferable
% region.

% \item A $\letd{\loc}{e}$ expression that results when
% $\letregion{\pi}{e}$ expression takes a step (see
% Fig.~\ref{fig:fb-opsem-2}).  $\loc$ is the location of the newly
% allocated region.  

% \item An $\opened{\loc}{s}{e}$ expression that
% results when $\C{open}\;{\RgnZT{\toploc\loc}(v)} ...$ expression takes
% a step. $\loc$ is the location of the newly open transferable region.
% The symbol $s$ denotes the typestate of the
% transferable region before it is opened\footnote{Operational semantics
% lets a transferable region to be opened while it is already open. This
% allows methods to safely open a transferable region argument
% regardless of the calling context.}. The typestate can assume the
% values of $\USED$ (allocated and closed), $\LIVE$ (allocated and
% live), and $\XFERRED$ (transferred or freed).

% \end{itemize}

\subsection{Full Static Semantics}

\input{fb-auxdef}
\input{fb-staticsem-full}

Figs.~\ref{fig:fb-staticsem-1} and~\ref{fig:fb-staticsem-2} show full
static semantics of \FB. Fig.~\ref{fig:fb-staticsem-1} contains subtyping
rules, and rules to check well-formedness of \FB types, type
constraints, methods, and class definitions. Method well-formedness
rule makes use of the expression typing judgment defined in
Fig.~\ref{fig:fb-staticsem-2}. Auxiliary definitions used in
Figs.~\ref{fig:fb-staticsem-1} and~\ref{fig:fb-staticsem-2} are
defined in Fig.~\ref{fig:fb-auxdef}. As described in
\S~\ref{sec:type-system}, all judgments are parameterized over the
class table ($CT$). The premise $CT(B) = \headerOf{B}\{...\}$
used in some of the rules means that the definition of class $B$ is
present in $CT$ and that the definition is well-formed.

\subsection{Operational Semantics}

\input{fb-opsem-full}
Figs.~\ref{fig:fb-opsem-1} and~\ref{fig:fb-opsem-2} show the
operational semantics of \fbname (Fig.~\ref{fig:fb-opsem-2} is also
contained in the main paper as Fig.~\ref{fig:fb-opsem}. It is included
here for the sake of completeness). 
