\begin{figure*}[t]
%
\textbf{Auxiliary Definitions} \\
\begin{minipage}{1.75in}
\begin{smathpar}
\begin{array}{lcl}
  allocRgn(A\inang{\rhoalloc\rhobar}\inang{\tbar}) & = & \rhoalloc\\
  bound_{\Delta}(\alpha) & = & \Delta(\alpha)\\
  bound_{\Delta}(N) & = & N\\
\end{array}
\end{smathpar}
\end{minipage}
%
\begin{minipage}{1.8in}
\begin{smathpar}
\begin{array}{c}
\renewcommand*{\arraystretch}{1.2}
\RULE
  {
    \\
    B \in \{\ObjZ,\RgnZ\}
  }
  {
    fields(B\inang{\ralloc\rbar}\inang{\tbar}) \;=\; \bullet
  }
\end{array}
\end{smathpar}
\end{minipage}
%
\begin{minipage}{3in}
\begin{smathpar}
\begin{array}{c}
\renewcommand*{\arraystretch}{1.2}
\RULE
  {
    CT(B) = \headerOf{B}\{\bar{\tau^f}\;\bar{f};\,...\}\\
    \substFn = [\rbar/\rhobar, \ralloc/\rhoalloc, \tbar/\bar{\alpha}] \qquad 
    fields(\substFn(N)) = \bar{\tau^g}\;\bar{g}
  }
  {
    fields(B\inang{\ralloc\rbar}\inang{\tbar}) \;=\;
      \bar{\tau^g}\,\bar{g},\,\substFn(\bar{\tau^f})\,\bar{f}
  }
\end{array}
\end{smathpar}
\end{minipage}
%
\bigskip

\begin{minipage}{3.75in}
\begin{smathpar}
\begin{array}{c}
\renewcommand*{\arraystretch}{1.2}
\RULE
  {
    CT(B) = \headerOf{B}\{\bar{\tau^f}\;\bar{f};\,k\;\bar{d}\}\\
    \tau^2 \; m\mang (\bar{\tau^1}\;\bar{x})\{...\} \in \bar{d} \qquad
    \substFn = [\rbar/\rhobar, \ralloc/\rhoalloc, \tbar/\bar{\alpha}]
  }
  {
    mtype (m,B\inang{\ralloc\rbar}\inang{\tbar}) \;=\;
    \substFn(\mang\bar{\tau^1} \rightarrow \tau^2)
  }
\end{array}
\end{smathpar}
\end{minipage}
%
\begin{minipage}{3in}
\begin{smathpar}
\begin{array}{c}
\renewcommand*{\arraystretch}{1.2}
\RULE
  {
    CT(B) = \headerOf{B}\{\bar{\tau^f}\;\bar{f};\,k\;\bar{d}\}\\
    m \notin \bar{d} \qquad 
    \substFn = [\rbar/\rhobar, \ralloc/\rhoalloc, \tbar/\bar{\alpha}]
  }
  {
    mtype (m,B\inang{\ralloc\rbar}\inang{\tbar}) \;=\;
    mtype (m, \substFn(N))
  }
\end{array}
\end{smathpar}
\end{minipage}
%
\bigskip
\begin{smathpar}
\A \;=\; (\subtypcx)
\end{smathpar}
%
\bigskip

\textbf{Subtyping}  \; \fbox
  {\(\subtyp{\A}{\tau_1}{\tau_2}\)}\\

\input{fb-subtyprules}
%
\bigskip

\textbf{Well-formedness}  \; \fbox
  {\(\tywf{\A}{\tau}, \spc 
     \tywf{\A}{\phi}\)}\\

\input{fb-tywfrules}
%
\bigskip
\caption{Static semantics of {\sc Featherweight} \name}
\label{fig:fb-syntax}
\end{figure*}
